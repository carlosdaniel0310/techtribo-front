<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>Detalhes do Desenvolvedor</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="styles.css">
</head>

<body class="container py-5">

  <div class="text-center">
    <h2 class="mb-4 text-primary">Detalhes do Desenvolvedor</h2>
    <div id="detalhe-info-geral"></div>
  </div>

  <div class="text-center mt-5">
    <a href="index.html" class="btn btn-primary px-4">Voltar</a>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", async () => {
      const params = new URLSearchParams(window.location.search);
      const id = params.get("id");

      const res = await fetch("http://localhost:3000/desenvolvedores/" + id);
      const dev = await res.json();

      if (!dev) {
        document.getElementById("detalhe-info-geral").innerHTML = "<p>Desenvolvedor não encontrado.</p>";
        return;
      }

      document.getElementById("detalhe-info-geral").innerHTML = `
        <img src="${dev.imagem}" alt="${dev.nome}" 
              class="img-fluid rounded mb-3"
              style="max-width: 260px;">

        <h2 class="fw-bold text-primary">${dev.nome}</h2>
        <h5 class="text-secondary mb-2">${dev.empresa}</h5>

        <p class="mt-2 mb-4">${dev.bio}</p>

        <h4 class="fw-bold mt-4 text-primary">Informações Gerais</h4>
        <hr>

        <ul class="list-group list-group-flush d-inline-block text-start">
          <li class="list-group-item border-0 px-0 py-2">
            <strong>Categoria:</strong> ${dev.categoria ?? "Não informado"}
          </li>

          <li class="list-group-item border-0 px-0 py-2">
            <strong>Principal Contribuição:</strong> ${dev.contribuicao ?? "Não informado"}
          </li>

          <li class="list-group-item border-0 px-0 py-2">
            <strong>Início da Carreira:</strong> ${dev.ano ?? "Não informado"}
          </li>

          <li class="list-group-item border-0 px-0 py-2">
            <strong>Nacionalidade:</strong> ${dev.nacionalidade ?? "Não informado"}
          </li>

          <li class="list-group-item border-0 px-0 py-2">
            <strong>Área de Atuação:</strong> ${dev.area ?? "Não informado"}
          </li>
        </ul>
      `;
    });

  </script>

</body>

</html>